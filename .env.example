# =============================================================================
# Prappser Server Configuration
# =============================================================================
# This is an example configuration file. Copy this to .env and update values.
# For local development, use the provided defaults in .env
# =============================================================================

# =============================================================================
# Server Configuration
# =============================================================================

# Port the server will listen on
PORT=4545

# External URL for the server
# Leave empty for localhost, or specify your domain
# Examples: https://myapp.example.com, https://prappser-server.zeabur.app
EXTERNAL_URL=http://localhost:4545

# Hosting provider (used for URL resolution)
# Options: "zeabur" or leave empty for default
# When set to "zeabur", the EXTERNAL_URL will be automatically suffixed with .zeabur.app
HOSTING_PROVIDER=

# Comma-separated list of allowed CORS origins
# Supports wildcards like http://localhost:*
ALLOWED_ORIGINS=https://prappser.app,http://localhost:*,https://localhost:*

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL database connection string
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?[options]
# For local development with docker-compose: postgresql://test:test@localhost:5433/prappser_test?sslmode=disable
DATABASE_URL=postgresql://test:test@localhost:5433/prappser_test?sslmode=disable

# =============================================================================
# Authentication & Security
# =============================================================================

# Master password for initial setup and admin operations
# REQUIRED - Application will not start without this
MASTER_PASSWORD=your_secure_password_here

# JWT token expiration time in hours
JWT_EXPIRATION_HOURS=24

# Challenge time-to-live in seconds (for authentication challenges)
CHALLENGE_TTL_SEC=300

# Registration token time-to-live in seconds
REGISTRATION_TOKEN_TTL_SEC=10

# =============================================================================
# Storage Configuration
# =============================================================================

# Storage backend type
# Options: "local" or "s3"
STORAGE_TYPE=local

# Local storage path (used when STORAGE_TYPE=local)
STORAGE_PATH=./storage

# Maximum file size in megabytes
STORAGE_MAX_FILE_SIZE_MB=50

# Chunk size for file uploads in megabytes
STORAGE_CHUNK_SIZE_MB=5

# =============================================================================
# S3 Storage Configuration (when STORAGE_TYPE=s3)
# =============================================================================

# S3-compatible endpoint URL
# Examples: https://s3.amazonaws.com, https://minio.example.com
STORAGE_S3_ENDPOINT=

# S3 bucket name
STORAGE_S3_BUCKET=

# S3 access key ID
STORAGE_S3_ACCESS_KEY=

# S3 secret access key
STORAGE_S3_SECRET_KEY=

# S3 region
STORAGE_S3_REGION=us-east-1

# Use SSL for S3 connections (true/false)
# Set to "false" to disable SSL (useful for local MinIO setups)
STORAGE_S3_USE_SSL=true
